# Test-Task-Junior-Python-Developer-00
Тестовое задание работодателя "Хайталент" на соискание должности "Junior Python разработчик"

## Требования
* Проверьте, что установлены Docker, Docker Compose, Git
## Подготовка к первому запуску
* Клонируйте репозиторий
* Скопируйте файл с примером переменных окружения:
```bash
cp .env.example .env
```
* При необходимости внесите изменения в конфиденциальные данные:
```bash
nano .env
```
## Запуск
* Выполните команду:
```bash
docker-compose up -d
```
## Использование
* API доступно по адресу:
`http://localhost:8000`
## Swagger-документация
* Документация доступна по адресу:
`http://localhost:8000/docs`
## Остановка
* Для остановки контейнера выполните команду:
```bash
docker-compose down
```
* Для остановки с удалением контейнера и тома БД выполните:
```bash
docker-compose down -v
```
## Локальная проверка стиля кода
* Предварительно установите пакеты для тестирования:
```bash
pip install --upgrade pip
pip install ruff mypy fastapi sqlalchemy
```
* Выполните команды:
```bash
ruff check src/
mypy src/
```
> Это тест производится автоматически с помощью CI при пуше в репозиторий
## Запуск тестов внутри контейнера
> ⚠️ Во избежание конфликта баз данных выполняйте тесты до первого старта основного контейнера!\
> Попытка тестировать код после запуска основного контейнера приведёт к конфликту основной и тестовой баз данных
* Выполните команду:
```bash
docker-compose --env-file .env.example run --rm -e PYTHONPATH=/opt/app app pytest tests/ -v
```
* Чтобы проверить покрытие кода тестами, выполните команду:
```bash
docker-compose --env-file .env.example run --rm -e PYTHONPATH=/opt/app app pytest tests/ --cov=src
```
* После завершения тестов удалите тестовые контейнеры и том с БД
```bash
docker-compose down -v
```
> Это тест производится автоматически с помощью CI при пуше в репозиторий
